<!doctype html> <html lang=ca> <head> <meta charset=utf-8 /> <meta http-equiv=X-UA-Compatible content="IE=edge;chrome=1"> <title>Nauta | Estàtic</title> <meta name=description content="Comentaris dels diferents tipus de plataformes per publicació web i experimentació en subministrar contingut estàtic"> <meta name=HandheldFriendly content=True /> <meta name=MobileOptimized content=320 /> <meta name=viewport content="width=device-width, initial-scale=1.0"/> <meta name=google-site-verification content=PycwDYEyjE8Gj_WzqhhlGhdmC4QjGLcTL5t11pSQv_U /> <link href="/assets/css/totum.css" rel=stylesheet /><link href="http://fonts.googleapis.com/css?family=Alegreya:400,400italic,700,700italic,900,900italic|Alegreya+SC:400italic,400,700,700italic,900,900italic" rel=stylesheet /> <link rel=alternate type="application/atom+xml" title="Atom Feed" href="/feed.xml"/> <script src="/assets/js/modernizr.js"></script><script src="/assets/js/respond.min.js"></script> <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-47341581-1', 'nauta.cat');
  ga('send', 'pageview');
</script> </head> <body> <header role=banner> <div class=cap> <a href="/"><img src="/imatges/logo_.png" class=logo alt="Logo Nauta"/> </a> </div> </header> <main role=main> <article class=post> <h1>Estàtic</h1> <p class="meta espaiat"><time datetime=2013-12-15>15 de Desembre de 2013</time> a: <span class=capitalitza><a href="/etiqueta/rendiment/">#rendiment </a></span></p> <section> <p>Des de fa uns dies festejo la possibilitat de servir contingut estàtic en comptes de generar-lo dinàmicament. Subministrar contingut estàtic equival a fer treballar menys el servidor en tots els sentits i accelerar, i molt, el procés de subministrar el contingut. Les pàgines no s'han de generar sota demanda car ja estan a disposició del servidor per servir-les, tal qual. </p> <p>Anys enrere, quan començava a trastejar el web (no aquest) i vaig descobrir <a href="http://movabletype.org/">Movable Type</a> i em va semblar un gran avenç la facilitat amb la que un podia publicar qualsevol disbarat. Aquesta plataforma, mitjançant una sèrie de plantilles i <em>scripts</em>, acabava generant uns arxius estàtics que eren els servits.</p> <p>Poc després vaig passar-me a <a href="http://ca.wordpress.org/">WordPress</a> car em va semblar que això de servir contingut estàtic, podent-lo generar dinàmicament, era un endarreriment. Modificar una entrada i que aquesta ja mostrés sense tenir que tornar a generar tots els arxius afectats era una cosa semblant a un somni. Imagino que no vaig ser l'únic amb aquest sentiment. Només cal veure l'èxit del que han gaudit les plataformes que generen el contingut dinàmicament.</p> <p><img src="/imatges/keep_calm_and_optimize.png" alt="Keep calm and optimize"/></p> <p>Generar, però, contingut de forma dinàmica vol dir tenir que llegir i interpretar milers de línies de codi i realitzar consultes a bases de dades. Tot això representa temps i cicles del processador. Les solucions per evitar tenir que interpretar codi i consultar les bases de dades cada cop que es demanava una pàgina, van passar per guardar al servidor aquesta pàgina pregenerada, en una memòria de cau. Aquesta tecnologia sembla la que està dominant des de fa uns anys.</p> <p>Alternatives més lleugeres són les iniciatives tipus <a href="http://www.staceyapp.com/">Stacey</a> i <a href="http://getkirby.com/">Kirby</a> entre d'altres. Aquí tot és més senzill i fins hi tot rupestre però molt interessant. No hi ha base de dades que consultar car el contingut es troba en arxius de text dins de cada directori. En una paraula: simplicitat.</p> <p>Així doncs, com deia al començament, festejo amb la possibilitat de servir contingut estàtic. De fet és una mentida a mitges car el 90% del temps el servidor ja subministra aquesta mena de contingut. El procés que utilitzo és una mica rudimentari però efectiu: descarrego tot el contingut a un directori via <code>wget</code>, comprimeixo tot el contingut (cada arxiu de manera independent) i canvio la configuració de Nginx perquè serveixi el nou contingut directament en comptes d'actuar com <em>proxy</em> invers. Tot plegat un procés transparent sense desconnexions. Un cop fet el canvi d'agulles, aturo Node.js car ja no el necessito en marxa.</p> <p>Una llarga anàbasi per acabar tornant a l'origen.</p> </section> <section class=compartir> <h4>Comparteix aquesta entrada</h4> <a target=_blank href="http://twitter.com/share?text=Estàtic&url=http://nauta.cat/bloc/estatic/"><i class=icon-twitter-squared></i></a> <a target=_blank href="http://www.facebook.com/sharer.php?u=http://nauta.cat/bloc/estatic/"><i class=icon-facebook-squared></i></a> <a target=_blank href="https://plus.google.com/share?url=http://nauta.cat/bloc/estatic/"><i class=icon-gplus-squared></i></a> </section> </article> <nav class=paginacio role=navigation> <span><a href="/">Índex</a></span> <span class=antics><a href="/bloc/robots-i-monstres/">Robots i monstres &rarr;</a></span> <span class=nous><a href="/bloc/nginx-si-gracies/">&larr; Nginx? Sí, gràcies</a></span> </nav> </main> <footer> <a target=_blank href="/feed.xml"><i class=icon-rss-squared></i></a> <div class=peu>&copy; 2013 &ndash; 2016 <a href="/">Nauta</a>. <br>Reservats tots els drets.</div> </footer> <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script> </body> </html>